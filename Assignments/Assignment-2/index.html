<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>Assignment 2</title>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
h1
	{mso-style-link:"Heading 1 Char";
	margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	page-break-after:avoid;
	font-size:16.0pt;
	font-family:"Calibri Light",sans-serif;
	color:#2E74B5;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-right:0in;
	margin-left:0in;
	font-size:18.0pt;
	font-family:"Arial",sans-serif;
	color:black;
	font-weight:bold;}
h3
	{mso-style-link:"Heading 3 Char";
	margin-right:0in;
	margin-left:0in;
	font-size:13.5pt;
	font-family:"Arial",sans-serif;
	color:windowtext;
	font-weight:bold;}
p.MsoBodyTextIndent, li.MsoBodyTextIndent, div.MsoBodyTextIndent
	{mso-style-link:"Body Text Indent Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
a:link, span.MsoHyperlink
	{color:#0000EE;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#551A8B;
	text-decoration:underline;}
p
	{margin-right:0in;
	margin-left:.5in;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
code
	{font-family:"Courier New";}
pre
	{mso-style-link:"HTML Preformatted Char";
	margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Courier New";
	color:windowtext;}
tt
	{font-family:"Courier New";}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoListParagraphCxSpFirst, li.MsoListParagraphCxSpFirst, div.MsoListParagraphCxSpFirst
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoListParagraphCxSpMiddle, li.MsoListParagraphCxSpMiddle, div.MsoListParagraphCxSpMiddle
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
p.MsoListParagraphCxSpLast, li.MsoListParagraphCxSpLast, div.MsoListParagraphCxSpLast
	{margin-top:0in;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:.5in;
	margin-bottom:.0001pt;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
span.Heading1Char
	{mso-style-name:"Heading 1 Char";
	mso-style-link:"Heading 1";
	font-family:"Calibri Light",sans-serif;
	color:#2E74B5;}
span.Heading2Char
	{mso-style-name:"Heading 2 Char";
	mso-style-link:"Heading 2";
	font-family:"Calibri Light",sans-serif;
	color:#2E74B5;}
span.Heading3Char
	{mso-style-name:"Heading 3 Char";
	mso-style-link:"Heading 3";
	font-family:"Calibri Light",sans-serif;
	color:#1F4D78;}
span.HTMLPreformattedChar
	{mso-style-name:"HTML Preformatted Char";
	mso-style-link:"HTML Preformatted";
	font-family:Consolas;
	color:black;}
span.BodyTextIndentChar
	{mso-style-name:"Body Text Indent Char";
	mso-style-link:"Body Text Indent";
	font-family:"Arial",sans-serif;
	color:black;}
p.class1, li.class1, div.class1
	{mso-style-name:class1;
	margin-right:0in;
	margin-left:.5in;
	font-size:12.0pt;
	font-family:"Arial",sans-serif;
	color:black;}
span.m
	{mso-style-name:m;}
.MsoChpDefault
	{font-size:10.0pt;}
@page WordSection1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>

</head>

<body bgcolor=white lang=EN-US link="#0000EE" vlink="#551A8B" alink="#ff0000">

<div class=WordSection1>

<table class=MsoNormalTable border=0 cellspacing=3 cellpadding=0 width="100%"
 style='width:100.0%'>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal style='margin-right:7.5pt'><span style='font-family:"Times New Roman",serif'><img
  width=122 height=123
  src="https://www.cs.rice.edu/~javaplt/411/22-spring/logo.gif"
  alt="Rice University"></span><sup><span style='font-size:72.0pt;font-family:
  "Times New Roman",serif'>&nbsp;COMP 411/511</span></sup><span
  style='font-family:"Times New Roman",serif'> </span></p>
  <p class=class1><b><span style='font-size:36.0pt;font-family:"Times New Roman",serif;
  color:#3366FF'>Project 2:   Three Interpreters for Jam</span></b><span
  style='font-family:"Times New Roman",serif'> </span></p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>
  </td>
  <td style='padding:.75pt .75pt .75pt .75pt'>
  <p class=MsoNormal><span style='font-family:"Times New Roman",serif'>&nbsp;</span></p>
  </td>
 </tr>
</table>

<h2><span style='font-family:"Times New Roman",serif'>Points: 100</span></h2>

<h3><span style='font-size:14.0pt;font-family:Consolas'>Files</span></h3>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>The
support files for this assignment are provided in the stub directory created
when you accept the assignment.   Do not accept this assignment before
completing Assignment 1.</span></p>

<h3><span style='font-size:14.0pt;font-family:Consolas'>Overview</span></h3>

<p><b><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Preparation</span></b><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>   Examine the
files in the repository created for you by GitHub Classroom.   The support
files are identical to those provided for Project 1 except that the file </span><span
style='font-size:14.0pt;font-family:Consolas'>Parser.java</span><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> contains the
class solution instead of your solution to Project 1.   You are free to use
either version of </span><span style='font-size:14.0pt;font-family:Consolas'>Parser.java</span><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>.   If you use
your own parser, make sure that the </span><tt><span style='font-size:14.0pt;
font-family:Consolas'>map</span></tt><span style='font-size:14.0pt;font-family:
"Times New Roman",serif'> construct accepts an empty parameter list. </span></p>

<p><b><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Task</span></b><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> &nbsp; Your task
is to write three interpreters for the <i>Jam</i> language syntax from Project
1: one that performs <em>call-by-value</em> evaluation, one that performs <em>call-by-name
</em>evaluation, and one that performs <em>call-by-need</em> evaluation. The
input to your interpreter will be a Jam program in the abstract syntax
generated by the parser from Project 1.   Call-by-need evaluation has the same
syntactic semantics as call-by-name but the implementation is
&quot;optimized&quot; so we must explain call-by-name evaluation first. The
difference between call-by-value evaluation and call-by-name evaluation is
straightforward. Consider a syntactic semantics for Jam analogous to the one we
gave in Lecture 4 for the language LC. In the subsequent discussion of Jam
evaluation, we will call Jam </span><tt><span style='font-size:14.0pt;
font-family:Consolas'>map</span></tt><span style='font-size:14.0pt;font-family:
"Times New Roman",serif'>s <i>procedures</i> which is consistent with
language-independent programming language terminology. In LC, </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>lambda</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>-abstractions are
procedures. In call-by-value evaluation, the arguments in a procedure
application (class </span><tt><span style='font-size:14.0pt;font-family:Consolas'>App</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> in the Java
representation of Jam abstract syntax) are reduced to values before the
arguments are substituted into the procedure body. In call-by-name evaluation,
the argument expressions are substituted into the procedure body <em>without</em>
being evaluated! These argument expressions are evaluated if and when their
values are demanded during the evaluation of the body. This difference is
codified by the reduction rules for procedure applications. </span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>In
call-by-value,</span></p>

<blockquote style='margin-left:1.0in;margin-top:5.0pt;margin-bottom:5.0pt'>

<p class=MsoNormal><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>(map <i>x<sub>1</sub>,...,x<sub>n</sub> </i>to <i>E</i>) (<i>V<sub>1</sub>,...,V<sub>n</sub></i>)
&#8594; E</span></tt><span class=MsoHyperlink><span style='font-size:14.0pt;
font-family:Consolas;color:windowtext;text-decoration:none'>[</span></span><tt><i><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>x<sub>1</sub> </span></i></tt><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>&#8592; <i>V<sub>1</sub>,
..., x<sub>n</sub> </i>&#8592; <i>V<sub>n</sub></i>]<i> </i></span></tt></p>

</blockquote>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>where </span><tt><i><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>V<sub>1</sub>,...,V<sub>n</sub></span></i></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> are <em>values</em>.
Hence, the procedure body in an application is not evaluated until the
arguments are reduced to values.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>In
call-by-name,</span></p>

<blockquote style='margin-left:1.0in;margin-top:5.0pt;margin-bottom:5.0pt'>

<p class=MsoNormal><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>(map <i>x<sub>1</sub>,...,x<sub>n</sub> </i>to <i>E</i>) (<i>M<sub>1</sub>,...,M<sub>n</sub></i>)
&#8594; E</span></tt><span class=MsoHyperlink><span style='font-size:14.0pt;
font-family:Consolas;color:windowtext;text-decoration:none'>[</span></span><tt><i><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>x<sub>1</sub> </span></i></tt><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>&#8592; <i>M<sub>1</sub>,
..., x<sub>n</sub> </i>&#8592; <i>M<sub>n</sub></i>]</span></tt></p>

</blockquote>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>where </span><tt><i><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>M<sub>1</sub>,...,M<sub>n</sub></span></i></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> are <i>arbitrary</i>
<em>expressions</em>. This rule performs the substitution immediately rather
than reducing </span><tt><i><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>M<sub>1</sub>,...,M<sub>n</sub></span></i></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> to values first.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Since
call-by-name defers the evaluation of arguments in procedure applications, some
of those arguments may never be evaluated in some cases. As a result, there are
Jam programs that converge to an answer for call-by-name but diverge of abort
with an error for call-by-value (because an argument in a function application
that is never demanded in call-by-name evaluation diverges or aborts in
call-by-value evaluation).</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>For the
sake of efficiency, your interpreter must be a &quot;meta-interpreter&quot;
that maintains an environment of variable bindings instead of performing
explicit substitutions. In the environment, each variable must be bound to a
representation that can be evaluated on demand. <b>Warning</b>: beware of
scoping problems in your call-by-name interpreter. <em>Make sure that you
evaluate each argument expression in the proper environment.</em> <b>Hint</b>:
it may be helpful to think of each argument expression as a procedure of no
arguments. If you use the correct representation for call-by-name bindings, the
implementation of call-by-name requires very little code and the call-by-name
and call-by-value interpreters can share most of their code. </span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>We
recommend that you use the generic </span><span style='font-size:14.0pt;
font-family:Consolas'>PureList</span><span style='font-size:14.0pt;font-family:
"Times New Roman",serif'> class in </span><tt><span style='font-size:14.0pt;
font-family:Consolas'>PureList.java</span></tt><span style='font-size:14.0pt;
font-family:"Times New Roman",serif'> to represent an environment. </span></p>

<p><b><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Call-by-need</span></b><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>&nbsp; The
call-by-name approach to evaluation is wasteful because it re-evaluates an
argument expression <em>every</em> time the corresponding parameter is
evaluated. By using the list representation for environments and performing
destructive operations on the data representation of bindings (name/value
pairs) in the environment, it is possible to eliminate this wasteful practice
and only evaluate each argument expression once, the first time its value is
demanded. This evaluation protocol is called <em>call-by-need</em>. For
functional languages like Jam, there is no difference in the observable
behavior or call-by-name and call-by-need, except that the latter is generally
more efficient. </span></p>

<p><b><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Testing</span></b><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> &nbsp; You are expected
to write unit tests for all of your non-trivial methods or functions <em>and
submit your test code as part of your program</em>. For more information, refer
back to Project 1. Since there is no straightforward way to inspect closures or
environments (without presuming a particular implementation), the direct output
of environments or closures will not be tested. We can still however test
aspects of a closure. For example: </span><span style='font-size:14.0pt;
font-family:Consolas'>arity(map x to x)</span><span style='font-size:14.0pt;
font-family:"Times New Roman",serif'>.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>The
visible part (for testing) of your program must include the top-level class: </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>Interpreter</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> containing the
methods </span><tt><span style='font-size:14.0pt;font-family:Consolas'>JamVal
callByValue()</span></tt><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>,
</span><tt><span style='font-size:14.0pt;font-family:Consolas'>JamVal
callByName()</span></tt><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>,
and </span><tt><span style='font-size:14.0pt;font-family:Consolas'>JamVal
callByNeed()</span></tt><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>.
The interface </span><tt><span style='font-size:14.0pt;font-family:Consolas'>JamVal</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> is defined in the
provided parser library files. </span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>The </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>Interpreter</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> class must
support two constructors: </span><tt><span style='font-size:14.0pt;font-family:
Consolas'>Interpreter(String filename)</span></tt><span style='font-size:14.0pt;
font-family:"Times New Roman",serif'> which takes input from the specified file
and </span><tt><span style='font-size:14.0pt;font-family:Consolas'>Interpreter(Reader
inputStream)</span></tt><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>
which takes input from the specified </span><tt><span style='font-size:14.0pt;
font-family:Consolas'>Reader</span></tt><span style='font-size:14.0pt;
font-family:"Times New Roman",serif'>. You do not need to test the constructor
that takes a </span><tt><span style='font-size:14.0pt;font-family:Consolas'>String
filename</span></tt><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>
argument.   Store your source program in a file named </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>Interpreter.java</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>. In summary, you
should create a source file </span><tt><span style='font-size:14.0pt;
font-family:Consolas'>Interpreter.java</span></tt><span style='font-size:14.0pt;
font-family:"Times New Roman",serif'> matching the following template:</span></p>

<pre><span style='font-size:14.0pt;font-family:Consolas'>/** file Interpreter.java **/</span></pre><pre><span
style='font-size:14.0pt;font-family:Consolas'>class EvalException extends RuntimeException {</span></pre><pre><span
style='font-size:14.0pt;font-family:Consolas'>       EvalException(String msg) { super(msg); }</span></pre><pre><span
style='font-size:14.0pt;font-family:Consolas'>}</span></pre><pre><span
style='font-size:14.0pt;font-family:Consolas'>&nbsp;</span></pre><pre><span
style='font-size:14.0pt;font-family:Consolas'>class Interpreter {</span></pre><pre><span
style='font-size:14.0pt;font-family:Consolas'>     Interpreter(String fileName) throws IOException;</span></pre><pre><span
style='font-size:14.0pt;font-family:Consolas'>     Interpreter(Reader reader);</span></pre><pre><span
style='font-size:14.0pt;font-family:Consolas'>&nbsp;</span></pre><pre><span
style='font-size:14.0pt;font-family:Consolas'>     public JamVal callByValue() { ... };</span></pre><pre><span
style='font-size:14.0pt;font-family:Consolas'>     public JamVal callByName()   { ... };</span></pre><pre><span
style='font-size:14.0pt;font-family:Consolas'>     public JamVal callByNeed()   { ... };</span></pre><pre><span
style='font-size:14.0pt;font-family:Consolas'>}</span></pre>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>The file </span><span
style='font-size:14.0pt;font-family:Consolas'>Interp.java</span><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> in your
repository already contains the preceding code.</span></p>

<p><b><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Choice
of Language</span></b><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>
&nbsp; Your program must compile and run correctly using Java 8.</span></p>

<h3><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Input
Language Specification</span></h3>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>The
following paragraphs define the <i>Jam</i> subset that your interpreter should handle
and the new parser's input language.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Your
interpreter should accept the <i>Jam</i> language including:</span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol;color:windowtext'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:14.0pt;font-family:"Times New Roman",serif;
color:windowtext'>the unary operators </span><tt><span style='font-size:14.0pt;
font-family:Consolas;color:windowtext'>+</span></tt><span style='font-size:
14.0pt;font-family:"Times New Roman",serif;color:windowtext'>, </span><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>-</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>
and </span><code><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>~</span></code><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>;
</span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol;color:windowtext'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:14.0pt;font-family:"Times New Roman",serif;
color:windowtext'>the binary operators </span><tt><span style='font-size:14.0pt;
font-family:Consolas;color:windowtext'>&gt;</span></tt><span style='font-size:
14.0pt;font-family:"Times New Roman",serif;color:windowtext'>, </span><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>&gt;=</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>,
</span><tt><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>!=</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>,
</span><tt><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>+</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>,
</span><tt><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>-</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>,
</span><code><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>/</span></code><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>,
</span><tt><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>*</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>,
</span><tt><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>=</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>,
</span><tt><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>&lt;</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>,
</span><tt><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>&lt;=</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>,
</span><code><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>&amp;</span></code><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>
and </span><tt><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>|</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>;
and</span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol;color:windowtext'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:14.0pt;font-family:"Times New Roman",serif;
color:windowtext'>the primitive Jam operations </span><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>cons?</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>,
</span><tt><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>empty?</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'> </span><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>number?</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>,
</span><tt><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>function?</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>,
</span><tt><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>arity</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>,
</span><tt><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>list?</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>,
</span><tt><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>cons</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>,
</span><tt><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>first</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>,
and </span><tt><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>rest</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>.
</span></p>

<!--<p>If you encounter an unsupported operator, you may raise an evaluation exception/error.</p>-->

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>The
supported operators have exactly the same meaning as their Scheme counterparts
(where the unary operator </span><code><span style='font-size:14.0pt;
font-family:Consolas'>~</span></code><span style='font-size:14.0pt;font-family:
"Times New Roman",serif'> is identified with the Scheme </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>not</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> function, and the
binary operators </span><code><span style='font-size:14.0pt;font-family:Consolas'>&amp;</span></code><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> and </span><code><span
style='font-size:14.0pt;font-family:Consolas'>|</span></code><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> are identified
with the Scheme </span><code><span style='font-size:14.0pt;font-family:Consolas'>and</span></code><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> and </span><code><span
style='font-size:14.0pt;font-family:Consolas'>or</span></code><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> operators) with
two exceptions: </span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol;color:windowtext'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><code><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>/</span></code><span style='font-size:14.0pt;font-family:
"Times New Roman",serif;color:windowtext'> means the integer division, </span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol;color:windowtext'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>=</span></tt><span style='font-size:14.0pt;font-family:"Times New Roman",serif;
color:windowtext'> and </span><tt><span style='font-size:14.0pt;font-family:
Consolas;color:windowtext'>!=</span></tt><span style='font-size:14.0pt;
font-family:"Times New Roman",serif;color:windowtext'> mean equality and
inequality on arbitrary objects. </span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>The
binary operator </span><tt><span style='font-size:14.0pt;font-family:Consolas'>=</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> behaves exactly
like the Scheme </span><tt><span style='font-size:14.0pt;font-family:Consolas'>equal?</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> function, <i>i.e.</i>
structural equality for objects and identity for closures (functions). For
closures, the only way that functions can be equal is if they are actually the
same object, <i>i.e.</i> they were created by the same closure allocation.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Some
instructive examples of Jam semantics include:</span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol;color:windowtext'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>5 = 5</span></tt><span style='font-size:14.0pt;font-family:
"Times New Roman",serif;color:windowtext'>     evaluates to </span><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>true</span></tt></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol;color:windowtext'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>5 = 6</span></tt><span style='font-size:14.0pt;font-family:
"Times New Roman",serif;color:windowtext'>   evaluates to </span><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>false</span></tt></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol;color:windowtext'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>cons(1,cons(2,empty))=cons(1,cons(2,empty))</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>  
evaluates to </span><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>true</span></tt></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol;color:windowtext'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>cons(1,cons(2,empty))=cons(1,cons(3,empty)) </span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>evaluates
to </span><tt><span style='font-size:14.0pt;font-family:Consolas;color:windowtext'>false</span></tt></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol;color:windowtext'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>cons(1,cons(2,empty))=cons(1,empty)</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>  
evaluates to </span><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>false</span></tt></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol;color:windowtext'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>cons? = cons?</span></tt><span style='font-size:14.0pt;
font-family:"Times New Roman",serif;color:windowtext'>   evaluates to </span><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>true</span></tt></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol;color:windowtext'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>cons? = empty?</span></tt><span style='font-size:14.0pt;
font-family:"Times New Roman",serif;color:windowtext'>   evaluates to </span><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>false</span></tt></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol;color:windowtext'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>cons? = (map x to x)</span></tt><span style='font-size:14.0pt;
font-family:"Times New Roman",serif;color:windowtext'>   evaluates to </span><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>false</span></tt></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol;color:windowtext'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>(map x to x)</span></tt><span style='font-size:14.0pt;
font-family:"Times New Roman",serif;color:windowtext'> = </span><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>(map x to x)</span></tt><tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>
evaluates</span></tt><span style='font-size:14.0pt;font-family:"Times New Roman",serif;
color:windowtext'> to </span><tt><span style='font-size:14.0pt;font-family:
Consolas;color:windowtext'>false</span></tt><span style='font-size:14.0pt;
font-family:"Times New Roman",serif;color:windowtext'>, because the two maps
are distinct objects in memory.</span></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol;color:windowtext'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>let m:=(map x to x); in m = m</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>  
evaluates to </span><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>true</span></tt><span style='font-size:14.0pt;font-family:
"Times New Roman",serif;color:windowtext'> in call-by-value because the
right-hand side of the definition is evaluated once, and from that point on </span><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>m</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>
refers to the same object; to </span><tt><span style='font-size:14.0pt;
font-family:Consolas;color:windowtext'>false</span></tt><span style='font-size:
14.0pt;font-family:"Times New Roman",serif;color:windowtext'> in call-by-name,
because the right-hand side is evaluated each time </span><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>m</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>
is used, so the two objects being compared are not created during the same
allocation; and to </span><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>true</span></tt><span style='font-size:14.0pt;font-family:
"Times New Roman",serif;color:windowtext'> in call-by-need, because the
right-hand side of the definition is evaluated the first time </span><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>m</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>
is used and from then on refers to that object.   This apparent anomaly does
not contradict the theorem asserting that call-by-name and call-by-need yield
identical results for functional languages because the </span><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>=</span></tt><tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif;color:windowtext'>
operator is not purely functional in Jam.   It treats procedure (function)
values as locations rather than mathematical functions because function equality
is undecidable.</span></tt></p>

<p class=MsoNormal style='margin-left:1.0in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol;color:windowtext'>·<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:14.0pt;font-family:"Times New Roman",serif;
color:windowtext'>The equality operation defined on closures in the two bullets
above has implications on the equality of lists: you have to compare two lists
item by item using Jam =.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>By
Scheme, we mean the <i>intermediate language with lambda</i> defined in DrRacket
used in Comp 210 and Comp 211. </span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>The
preceding definition of equality for closures is what is commonly done in
languages like Scheme, Java, and C#, but it is unappealing from a mathematical
perspective. In these languages, many common algebraic transformations break if
closures are involved. There are more elegant ways to define equality on
closures but they are more expensive. If we &quot;flatten&quot; closure
representations so that a closure consists of a lambda-expression (</span><span
style='font-size:14.0pt;font-family:Consolas'>AST</span><span style='font-size:
14.0pt;font-family:"Times New Roman",serif'> </span><span style='font-size:
14.0pt;font-family:Consolas'>map</span><span style='font-size:14.0pt;
font-family:"Times New Roman",serif'>) M and a list of the bindings of the free
variables in M, then we can compare the lambda-expressions (as </span><span
style='font-size:14.0pt;font-family:Consolas'>AST</span><span style='font-size:
14.0pt;font-family:"Times New Roman",serif'>s) and the bindings of the free
variables (recursively invoking equality testing of objects). For this
assignment, we are using the common, inelegant definition which is easy to
implement. Statically-typed functional languages typically exclude functions
from the domain of the = operator; programs that attempt to compare functions
do not type check.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>The
meanings of the primitive functions are as follows: </span></p>

<p class=MsoListParagraphCxSpFirst style='margin-left:.75in;text-indent:-.25in;
line-height:110%'><tt><span style='font-size:14.0pt;line-height:110%;
font-family:Symbol;color:windowtext'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;
</span></span></tt><tt><span style='font-size:14.0pt;line-height:110%;
font-family:Consolas;color:windowtext'>cons?(p) </span></tt><span
style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'>returns </span><span style='font-size:14.0pt;line-height:
110%;font-family:Consolas;color:windowtext'>true</span><span style='font-size:
14.0pt;line-height:110%;font-family:"Times New Roman",serif;color:windowtext'>
if </span><tt><span style='font-size:14.0pt;line-height:110%;font-family:Consolas;
color:windowtext'>p</span></tt><span style='font-size:14.0pt;line-height:110%;
font-family:"Times New Roman",serif;color:windowtext'> was created by </span><tt><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>cons()</span></tt><span
style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'>.   Hence, </span><tt><span style='font-size:14.0pt;
line-height:110%;font-family:Consolas;color:windowtext'>cons?(empty) = false.</span></tt></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:-.25in;
line-height:110%'><span style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span><tt><span style='font-size:14.0pt;line-height:110%;font-family:
Consolas;color:windowtext'>empty?(p) </span></tt><span style='font-size:14.0pt;
line-height:110%;font-family:"Times New Roman",serif;color:windowtext'>returns </span><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>true</span><span
style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'> if </span><tt><span style='font-size:14.0pt;line-height:
110%;font-family:Consolas;color:windowtext'>p</span></tt><span
style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'> is </span><tt><span style='font-size:14.0pt;line-height:
110%;font-family:Consolas;color:windowtext'>empty</span></tt><span
style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'> (the empty list).</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:-.25in;
line-height:110%'><span style='font-size:14.0pt;line-height:110%;font-family:
Symbol;color:windowtext'>·<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><tt><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>number?(p)
</span></tt><span style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'>returns </span><span style='font-size:14.0pt;line-height:
110%;font-family:Consolas;color:windowtext'>true</span><span style='font-size:
14.0pt;line-height:110%;font-family:"Times New Roman",serif;color:windowtext'>
if </span><tt><span style='font-size:14.0pt;line-height:110%;font-family:Consolas;
color:windowtext'>p</span></tt><span style='font-size:14.0pt;line-height:110%;
font-family:"Times New Roman",serif;color:windowtext'> is a number</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:-.25in;
line-height:110%'><span style='font-size:14.0pt;line-height:110%;font-family:
Symbol;color:windowtext'>·<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><tt><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>function?(p)
</span></tt><span style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'>returns </span><span style='font-size:14.0pt;line-height:
110%;font-family:Consolas;color:windowtext'>true</span><span style='font-size:
14.0pt;line-height:110%;font-family:"Times New Roman",serif;color:windowtext'>
if </span><tt><span style='font-size:14.0pt;line-height:110%;font-family:Consolas;
color:windowtext'>p</span></tt><span style='font-size:14.0pt;line-height:110%;
font-family:"Times New Roman",serif;color:windowtext'> is a function (<i>i.e</i>.,
a </span><tt><span style='font-size:14.0pt;line-height:110%;font-family:Consolas;
color:windowtext'>map</span></tt><span style='font-size:14.0pt;line-height:
110%;font-family:"Times New Roman",serif;color:windowtext'> or a primitive
function)</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:-.25in;
line-height:110%'><span style='font-size:14.0pt;line-height:110%;font-family:
Symbol;color:windowtext'>·<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><tt><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>arity(p)
</span></tt><span style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'>returns how many parameters the function </span><tt><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>p</span></tt><span
style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'> takes.   It returns an evaluation error if </span><tt><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>p</span></tt><span
style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'> is not a function. </span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:-.25in;
line-height:110%'><span style='font-size:14.0pt;line-height:110%;font-family:
Symbol;color:windowtext'>·<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><tt><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>list?(p)
</span></tt><span style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'>returns </span><span style='font-size:14.0pt;line-height:
110%;font-family:Consolas;color:windowtext'>true</span><span style='font-size:
14.0pt;line-height:110%;font-family:"Times New Roman",serif;color:windowtext'>
if </span><tt><span style='font-size:14.0pt;line-height:110%;font-family:Consolas;
color:windowtext'>p</span></tt><span style='font-size:14.0pt;line-height:110%;
font-family:"Times New Roman",serif;color:windowtext'> is a list (anything
constructed by </span><tt><span style='font-size:14.0pt;line-height:110%;
font-family:Consolas;color:windowtext'>cons()</span></tt><span
style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'>, and </span><span style='font-size:14.0pt;line-height:110%;
font-family:Consolas;color:windowtext'>empty</span><span style='font-size:14.0pt;
line-height:110%;font-family:"Times New Roman",serif;color:windowtext'>)</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:-.25in;
line-height:110%'><span style='font-size:14.0pt;line-height:110%;font-family:
Symbol;color:windowtext'>·<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><tt><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>cons(</span></tt><tt><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>p,q)
</span></tt><span style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'>returns a list consisting of the list </span><tt><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>q</span></tt><span
style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'> with the value </span><tt><span style='font-size:14.0pt;
line-height:110%;font-family:Consolas;color:windowtext'>p</span></tt><span
style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'> added to the front.   It returns an evaluation error if </span><tt><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>q</span></tt><span
style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'> is not a list.</span></p>

<p class=MsoListParagraphCxSpMiddle style='margin-left:.75in;text-indent:-.25in;
line-height:110%'><span style='font-size:14.0pt;line-height:110%;font-family:
Symbol;color:windowtext'>·<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><tt><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>first(p)
</span></tt><span style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'>returns the first element of list </span><tt><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>p</span></tt><span
style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'>.   It returns an evaluation error if </span><tt><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>p</span></tt><span
style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'> is not a list.</span></p>

<p class=MsoListParagraphCxSpLast style='margin-left:.75in;text-indent:-.25in;
line-height:110%'><span style='font-size:14.0pt;line-height:110%;font-family:
Symbol;color:windowtext'>·<span style='font:7.0pt "Times New Roman"'>&nbsp; </span></span><tt><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>rest(p)
</span></tt><span style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'>returns all but the first element of </span><tt><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>p</span></tt><span
style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'>.   It returns an evaluation error if </span><tt><span
style='font-size:14.0pt;line-height:110%;font-family:Consolas;color:windowtext'>p</span></tt><span
style='font-size:14.0pt;line-height:110%;font-family:"Times New Roman",serif;
color:windowtext'> is not a list.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>The
language constructs </span><tt><span style='font-size:14.0pt;font-family:Consolas'>if</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>, </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>map</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>, </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>let</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>, and application
in JAM have the same meaning as </span><tt><span style='font-size:14.0pt;
font-family:Consolas'>if</span></tt><span style='font-size:14.0pt;font-family:
"Times New Roman",serif'>, </span><tt><span style='font-size:14.0pt;font-family:
Consolas'>lambda</span></tt><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>,
</span><tt><span style='font-size:14.0pt;font-family:Consolas'>let</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>, and application
in Racket/Scheme with two exceptions. First, the call-by-name version of Jam
uses call-by-name semantics for function application. Second, when Jam </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>if</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> is given a
non-Boolean input in the test position, it reports an evaluation error.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Your
interpreter should report errors by throwing an </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>EvalException</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> containing an
appropriate message.   All errors abort execution.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>The Jam </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>let</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> construct is
simply an abbreviation for the corresponding lambda application. Hence </span></p>

<blockquote style='margin-left:1.0in;margin-top:5.0pt;margin-bottom:5.0pt'>

<p class=MsoNormal><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>let </span></tt><i><span style='font-size:14.0pt;font-family:
Consolas;color:windowtext'>v</span></i><tt><sub><span style='font-size:14.0pt;
font-family:Consolas;color:windowtext'>1</span></sub></tt><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'> := </span></tt><i><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>M</span></i><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>1; </span></tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'><br>
       ...<br>
<i>       v</i><tt><sub><span style='font-family:Consolas'>n</span></sub></tt><tt><span
style='font-family:Consolas'> := </span></tt><i>M</i><tt><span
style='font-family:Consolas'>n; </span></tt><br>
<tt><span style='font-family:Consolas'>in </span></tt><i>E</i></span></p>

</blockquote>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>has
exactly the same meaning as</span></p>

<blockquote style='margin-left:1.0in;margin-top:5.0pt;margin-bottom:5.0pt'>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"Times New Roman",serif;
color:windowtext'>(</span><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>map </span></tt><i><span style='font-size:14.0pt;font-family:
Consolas;color:windowtext'>v</span></i><tt><sub><span style='font-size:14.0pt;
font-family:Consolas;color:windowtext'>1</span></sub></tt><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>,...,</span></tt><i><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>v</span></i><tt><sub><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>n</span></sub></tt><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'> to </span></tt><i><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>E</span></i><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>)(</span></tt><i><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>M</span></i><tt><sub><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>1</span></sub></tt><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>,...,<i>M</i><sub>n</sub>)
</span></tt></p>

</blockquote>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Hence, a </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>let</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> is a combination
of a </span><tt><span style='font-size:14.0pt;font-family:Consolas'>map</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> and an
application. Note that the semantics of </span><tt><span style='font-size:14.0pt;
font-family:Consolas'>let</span></tt><span style='font-size:14.0pt;font-family:
"Times New Roman",serif'> depends on whether the interpreter is using
call-by-value or call-by-name.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Lists are
created using </span><tt><span style='font-size:14.0pt;font-family:Consolas'>cons</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> and </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>empty</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>, where </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>empty</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> is the empty
list. The one-element list </span><tt><span style='font-size:14.0pt;font-family:
Consolas'>(1)</span></tt><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>
is created using </span><tt><span style='font-size:14.0pt;font-family:Consolas'>cons(1,empty).</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> Since the values
returned by </span><tt><span style='font-size:14.0pt;font-family:Consolas'>cons(...)</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> and </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>empty</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> are lists, </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>list?</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> returns </span><span
style='font-size:14.0pt;font-family:Consolas'>true</span><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> for both of them.
The following program evaluates to </span><tt><span style='font-size:14.0pt;
font-family:Consolas;color:windowtext'>cons</span></tt><tt><span
style='font-size:14.0pt;font-family:Consolas'>(true,true)</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>:</span></p>

<blockquote style='margin-left:1.0in;margin-top:5.0pt;margin-bottom:5.0pt'>

<p class=MsoNormal><tt><span style='font-size:14.0pt;font-family:Consolas;
color:windowtext'>cons(list?(cons(5,</span></tt><tt><span style='font-size:
14.0pt;font-family:Consolas'>empty</span></tt><tt><span style='font-size:14.0pt;
font-family:Consolas;color:windowtext'>)),cons(list?(</span></tt><tt><span
style='font-size:14.0pt;font-family:Consolas'>empty</span></tt><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>),</span></tt><tt><span
style='font-size:14.0pt;font-family:Consolas'>empty</span></tt><tt><span
style='font-size:14.0pt;font-family:Consolas;color:windowtext'>)) </span></tt></p>

</blockquote>

<p><tt><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>The
binary infix operators &amp; ( ‚¬Å“and</span></tt><span style='font-size:14.0pt;
font-family:"Times New Roman",serif'> ‚¬ ) and </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>|</span></tt><tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> ( ‚¬Å“or ‚¬ )</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> denote the <em>short-circuit</em>
versions of those operations even in call-by-value Jam. That means these
operations look just at their first operand and try to determine the result;
only if they cannot determine it from just the first operand do they look at
the second at the second operand. For example, </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>(true | x)</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> evaluates to </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>true</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> regardless of
what value </span><tt><span style='font-size:14.0pt;font-family:Consolas'>x</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> has.</span></p>

<p><tt><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>The
ternary</span></tt><tt><span style='font-size:14.0pt;font-family:Consolas'>
if-then-else</span></tt><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>
operation works in a similar way: It first evaluates the test expression
appearing between </span><tt><span style='font-size:14.0pt;font-family:Consolas'>if</span></tt><tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> and </span></tt><tt><span
style='font-size:14.0pt;font-family:Consolas'>then</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>. If it evaluates
to </span><tt><span style='font-size:14.0pt;font-family:Consolas'>true</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>, </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>if-then-else</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> evaluates the
consequence expression immediately following </span><tt><span style='font-size:
14.0pt;font-family:Consolas'>then</span></tt><span style='font-size:14.0pt;
font-family:"Times New Roman",serif'>; if it is </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>false</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>, it evaluates the
alternative expression immediately following </span><tt><span style='font-size:
14.0pt;font-family:Consolas'>else</span></tt><tt><span style='font-size:14.0pt;
font-family:"Times New Roman",serif'>.</span></tt><span style='font-size:14.0pt;
font-family:"Times New Roman",serif'> </span><tt><span style='font-size:14.0pt;
font-family:Consolas'>if-then-else</span></tt><span style='font-size:14.0pt;
font-family:"Times New Roman",serif'> never evaluates both the consequence and
alternative expressions.</span></p>

<h3><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Representation
of Program Values</span></h3>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>A Jam
program manipulates data values that are either numbers, booleans, lists, or
function representations (closures). To standardize the visible behavior of Jam
interpreters, we stipulate that Jam interpreters <em>must</em> observe the
following conventions concerning the representation of Jam values in Java. Jam
values must be represented using the JamVal interface and subclasses as defined
in each of the three parser library files. </span></p>

<h3><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Commenting,
Testing and Submitting Your Program</span></h3>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>The src
folder in the provided code base includes some Junit4 test classes which are
not comprehensive.   You need to add more test cases; you should to check every
base constant (other than all numbers) and every compound construction as shown
in the syntax diagrams.   </span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Edit the </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>README</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> file for your
repository so that it</span></p>

<p class=MsoNormal style='margin-left:.75in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>outlines
the organization of your program, </span></p>

<p class=MsoNormal style='margin-left:.75in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>specifies
any compatible additions that you made the provided API (unnecessary for most
submissions), and</span></p>

<p class=MsoNormal style='margin-left:.75in;text-indent:-.25in'><span
style='font-size:10.0pt;font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>specifies
what testing process you used to confirm the correctness of your program.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Each
procedure or method in your program should include a short </span><span
style='font-size:14.0pt;font-family:Consolas'>javadoc</span><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> comment stating
precisely what it does at the level of abstraction expected by clients of the
method.   Note that the README file is a GitHub  ‚¬Å“MarkDown ‚¬  file, which
is text augmented by a few simple formatting annotations.   MarkDown (MD) is
much less powerful than HTML but much easier to use.   The webpage <a
href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">markdown-cheat-sheet</a>
is a good summary for learning MarkDown and a useful reference.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Your test
suite should comprehensively test all the distinct constructions of data values
of the primary type processed by each method (most often </span><span
style='font-size:14.0pt;font-family:Consolas'>this</span><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>).   Each
combination of inputs requiring different processing should be tested; this is
a property of the method conract, not the code implementing it.   Ideally, the
suite of tests should probe every feasible control path in your code.   In
practice, actual code often contains unreachable error reports.   Such control
paths obviously cannot be traversed by any test case.   We expect you to come
close to ideal coverage.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>All JUnit
test classes submitted for grading should be compatible with a generic solution
that conforms to the public interface provided by the stub files in the
provided support code. In other words, we should be able to compile and run
your unit tests against a reference solution used for grading, which has the
same public interface as the support code. Your test classes should be defined
in files matching the pattern </span><tt><span style='font-size:14.0pt;
font-family:Consolas'>*Assign#Test.java</span></tt><span style='font-size:14.0pt;
font-family:"Times New Roman",serif'>, where </span><tt><span style='font-size:
14.0pt;font-family:Consolas'>#</span></tt><span style='font-size:14.0pt;
font-family:"Times New Roman",serif'> is the current assignment number. For
example, </span><tt><span style='font-size:14.0pt;font-family:Consolas'>MyAssign2Test.java</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> would be a valid
name for Assignment 2 unit tests. If you want to include other tests that you
do not want graded (e.g., to test your private interfaces), then simply use a
different suffix than &quot;Test&quot; for the test class names (e.g., </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>Assign1Test#.java</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>). If you have
additional utility classes that are required dependences of your unit test
classes, please name those classes using the pattern </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>*Assign#TestSupport.java</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>, which signals
that the class is required to support your unit tests, but is not a unit test
class that should be independently launched. You may also include test support
files with names matching the pattern </span><tt><span style='font-size:14.0pt;
font-family:Consolas'>*AssignAllTestSupport.java</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>, which can
contain common test support code that can be reused across multiple assignment
submissions without needing to rename the file.   Note that our class solutions
to the assignments do not rely on such utility classes.   We anticipate that
most solutions will only include test files of the form </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>*Assign#Test.java.</span></tt></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>You
obviously do not need to  ‚¬Å“submit ‚¬  your program, since you are creating
it inside a repository on the ownership of the course staff.   We can easily
access all student repositories.</span></p>

<h3><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Implementation
Hints</span></h3>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>In your
call-by-name interpreter, the argument expressions must be evaluated in the
environment corresponding to their lexical context in the program. The free
variables in argument expressions behave <em>exactly</em> like the free
variables in functions. </span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>The form
of your interpreters should be very similar to the environment-based interpreters
presented in class. You should represent ground values by their <em>Object</em>
equivalents (where lists are represented using the </span><tt><span
style='font-size:14.0pt;font-family:Consolas'>PureList</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> class in the
parser library file) and function values (closures) as anonymous inner classes
(the strategy pattern for representing functions). Implement each of the
primitives using the corresponding Java primitive when possible. Of course, you
will have to implement the </span><tt><span style='font-size:14.0pt;font-family:
Consolas'>function?</span></tt><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>
and </span><tt><span style='font-size:14.0pt;font-family:Consolas'>arity</span></tt><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> primitives on
your own since there are no Java equivalents.   Fortunately, this task is
straightforward.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Your
interpreters should return the Java data values (</span><span style='font-size:
14.0pt;font-family:Consolas'>JamVal</span><span style='font-size:14.0pt;
font-family:"Times New Roman",serif'>s or aborting </span><span
style='font-size:14.0pt;font-family:Consolas'>Exception</span><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'>s) representing
the results of the specified Jam computations.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Note that
unary and binary operators are <em>not</em> values while primitives are. Unary
and binary operators are not legal expressions; hence, they can never be used
as values. In addition, note that the binary operators </span><code><span
style='font-size:14.0pt;font-family:Consolas'>&amp;</span></code><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> and </span><code><span
style='font-size:14.0pt;font-family:Consolas'>|</span></code><span
style='font-size:14.0pt;font-family:"Times New Roman",serif'> are special: they
do not evaluate their second arguments unless it is necessary.   Of course, a
Jam programmer can always define </span><span style='font-size:14.0pt;
font-family:Consolas'>map</span><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>s
that define the functions corresponding to operators.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>In
writing your interpreters: follow the definition of the data. Your interpreters
should contain a separate visitor </span><span style='font-size:14.0pt;
font-family:Consolas'>for&lt;class-name&gt;</span><span style='font-size:14.0pt;
font-family:"Times New Roman",serif'> method for each abstract syntax
constructor type. </span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Remember
to &quot;factor out&quot; repeated code patterns which you presumably learned
in Comp 215 and/or Comp 310.</span></p>

<p><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>Implement
a small subset of the primitive operations first and get everything debugged.  
Write the call-by-value interpreter first and then the call-by-name and
call-by-need variations, sharing code using inheritance wherever possible.   If
you implement each interpreter as an </span><span style='font-size:14.0pt;
font-family:Consolas'>AST</span><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>
visitor, you can share most of the code across the three interpreters using
inheritance.     Once all three interpreters are working, add support for the
operations that you intially left out.</span></p>

<div>

<p class=MsoNormal><span style='font-size:14.0pt;font-family:"Times New Roman",serif'>&nbsp;</span></p>

</div>

</div>

</body>

</html>
